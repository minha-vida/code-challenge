!function(a){function e(a,e,t){a.rules[e]=t,a.message&&(a.messages[e]=a.message)}function t(a){return a.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function n(a){return a.substr(0,a.lastIndexOf(".")+1)}function r(a,e){return 0===a.indexOf("*.")&&(a=a.replace("*.",e)),a}function i(e,t){var n=a(this).find("[data-valmsg-for='"+t[0].name+"']"),r=a.parseJSON(n.attr("data-valmsg-replace"))!==!1;n.removeClass("field-validation-valid").addClass("field-validation-error"),e.data("unobtrusiveContainer",n),r?(n.empty(),e.removeClass("input-validation-error").appendTo(n)):e.hide()}function d(e,t){var n=a(this).find("[data-valmsg-summary=true]"),r=n.find("ul");r&&r.length&&t.errorList.length&&(r.empty(),n.addClass("validation-summary-errors").removeClass("validation-summary-valid"),a.each(t.errorList,function(){a("<li />").html(this.message).appendTo(r)}))}function o(e){var t=e.data("unobtrusiveContainer"),n=a.parseJSON(t.attr("data-valmsg-replace"));t&&(t.addClass("field-validation-valid").removeClass("field-validation-error"),e.removeData("unobtrusiveContainer"),n&&t.empty())}function s(e){var t=a(e),n=t.data(m);return n||(n={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:a.proxy(i,e),invalidHandler:a.proxy(d,e),messages:{},rules:{},success:a.proxy(o,e)},attachValidation:function(){t.validate(this.options)},validate:function(){return t.validate(),t.valid()}},t.data(m,n)),n}var l,u=a.validator,m="unobtrusiveValidation";u.unobtrusive={adapters:[],parseElement:function(e,t){var n,r,i,d=a(e),o=d.parents("form")[0];o&&(n=s(o),n.options.rules[e.name]=r={},n.options.messages[e.name]=i={},a.each(this.adapters,function(){var t="data-val-"+this.name,n=d.attr(t),s={};void 0!==n&&(t+="-",a.each(this.params,function(){s[this]=d.attr(t+this)}),this.adapt({element:e,form:o,message:n,params:s,rules:r,messages:i}))}),jQuery.extend(r,{__dummy__:!0}),!t&&n.attachValidation())},parse:function(e){a(e).find(":input[data-val=true]").each(function(){u.unobtrusive.parseElement(this,!0)}),a("form").each(function(){var a=s(this);a&&a.attachValidation()})}},l=u.unobtrusive.adapters,l.add=function(a,e,t){return t||(t=e,e=[]),this.push({name:a,params:e,adapt:t}),this},l.addBool=function(a,t){return this.add(a,function(n){e(n,t||a,!0)})},l.addMinMax=function(a,t,n,r,i,d){return this.add(a,[i||"min",d||"max"],function(a){var i=a.params.min,d=a.params.max;i&&d?e(a,r,[i,d]):i?e(a,t,i):d&&e(a,n,d)})},l.addSingleVal=function(a,t,n){return this.add(a,[t||"val"],function(r){e(r,n||a,r.params[t])})},u.addMethod("__dummy__",function(){return!0}),u.addMethod("regex",function(a,e,t){var n;return this.optional(e)?!0:(n=new RegExp(t).exec(a),n&&0===n.index&&n[0].length===a.length)}),l.addSingleVal("accept","exts").addSingleVal("regex","pattern"),l.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),l.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),l.add("equalto",["other"],function(t){var i=n(t.element.name),d=t.params.other,o=r(d,i),s=a(t.form).find(":input[name="+o+"]")[0];e(t,"equalTo",s)}),l.add("required",function(a){("INPUT"!==a.element.tagName.toUpperCase()||"CHECKBOX"!==a.element.type.toUpperCase())&&e(a,"required",!0)}),l.add("remote",["url","type","additionalfields"],function(i){var d={url:i.params.url,type:i.params.type||"GET",data:{}},o=n(i.element.name);a.each(t(i.params.additionalfields||i.element.name),function(e,t){var n=r(t,o);d.data[n]=function(){return a(i.form).find(":input[name='"+n+"']").val()}}),e(i,"remote",d)}),a(function(){u.unobtrusive.parse(document)})}(jQuery);